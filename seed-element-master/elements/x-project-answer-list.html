<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/font-roboto/roboto.html">
<link rel="import" href="/bower_components/core-scaffold/core-scaffold.html">
<link rel="import" href="/bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="/bower_components/core-menu/core-menu.html">
<link rel="import" href="/bower_components/core-menu/core-submenu.html">
<link rel="import" href="/bower_components/paper-item/paper-item.html">

<link rel="import" href="/seed-element-master/elements/x-individual-project-card.html">

<polymer-element name="x-project-answer-list" attributes="projects count startIndex">
  <template>
    <style>
      :host {
        display: flex;
      }


    </style>

    <div horizontal flex justify layout>
      <template repeat="{{ p, pIndex in projects }}">
        <template if="{{count > pIndex && pIndex >= startIndex}}">
        <x-individual-project-card flex project={{p}} background={{backgrounds[pIndex]}} on-tap={{card_tap}}></x-individual-project-card>
        </template>
      </template>
      <div flex style="background-color: {{backgrounds[5]}}" hidden?="{{count > 5}}"></div>
      </div>
  </template>
  <script>
  Polymer('x-project-answer-list', {
    condition: true,
    selectedCard: null,
    backgrounds: ['#6bc177', '#67b672', '#64ad6e', '#60a66a', '#5c9d65', '#57905f'],
    card_tap: function(event, detail, sender)
    {
       if(this.selectedCard != null)
        this.unselect_card(this.selectedCard);
       else
         this.count = this.count - 1;
      this.selectedCard = sender;
      this.select_card(sender);  
    },
    unselect_card: function(card)
    {
      card.removeAttribute('two');
      card.selected = false;
    },
    select_card: function(card)
    {
      card.setAttribute('two', '');
      card.selected = true;
    },
    ready: function(){
    }
  });
  </script>
</polymer-element>
